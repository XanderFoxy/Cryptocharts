<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Meine Bitget Futures Charts</title>
<script src="https://s3.tradingview.com/tv.js"></script>
<style>
  :root {
    --gap:10px;
    --title-h:32px;
    --bg:#0f1720;
    --panel-bg:#0b1220;
    --radius:8px;
    --shadow:0 4px 12px rgba(2,6,23,0.6);
    --text:#e6eef8;
    --muted:#9fb0c8;
    --active:#10b981;
  }
  body{margin:0;font-family:sans-serif;background:var(--bg);color:var(--text);}
  header{padding:12px 16px;font-size:16px;font-weight:700;display:flex;justify-content:space-between;align-items:center;}
  .theme-toggle{cursor:pointer;padding:6px 12px;border:1px solid var(--muted);border-radius:6px;font-size:14px;background:transparent;color:var(--text);}
  .grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    grid-auto-rows:300px;
    gap:var(--gap);
    padding:12px;
  }
  @media(max-width:1000px){.grid{grid-template-columns:1fr 1fr;}}
  @media(max-width:700px){.grid{grid-template-columns:1fr;grid-auto-rows:280px;}}

  .panel{
    background:var(--panel-bg);
    border-radius:var(--radius);
    display:flex;
    flex-direction:column;
    position:relative;
    box-shadow:var(--shadow);
    transition:transform .25s ease,width .25s ease,height .25s ease,left .25s ease,top .25s ease;
    border:1px solid rgba(255,255,255,0.03);
    overflow:hidden;
  }
  .title{
    height:var(--title-h);
    display:flex;
    align-items:center;
    padding:0 10px;
    cursor:pointer;
    background:linear-gradient(180deg,rgba(255,255,255,0.05),rgba(255,255,255,0.01));
    gap:10px;
    font-size:14px;
    color:var(--text);
    border-bottom:1px solid rgba(255,255,255,0.02);
    user-select:none;
    font-weight:600;
  }
  .title.active{background-color:var(--active);color:#fff;}
  .dot{width:8px;height:8px;border-radius:50%;background:var(--active);}
  .label{flex:1;}
  .content{flex:1;min-height:0;}
  .floating{
    position:fixed !important;
    border-radius:12px !important;
    box-shadow:0 18px 50px rgba(2,6,23,0.8);
    outline:2px solid rgba(16,185,129,0.2);
    z-index:9999 !important;
  }
  .dimmed{filter:brightness(0.8);}
  body.light {
    --bg:#f8fafc;
    --panel-bg:#ffffff;
    --text:#0f1720;
    --muted:#4b5563;
    --shadow:0 6px 18px rgba(0,0,0,0.1);
  }
</style>
</head>
<body>
<header>
  <div>Meine Bitget Futures Charts (1-Minute)</div>
  <button class="theme-toggle" id="themeToggle">ðŸŒ™ Dunkel</button>
</header>

<main class="grid" id="grid">
  <div class="panel" id="panel-trump">
    <div class="title" data-panel="panel-trump"><div class="dot"></div><div class="label">TrumpCoin â€” TRUMP/USDT</div></div>
    <div class="content" id="chart-trump"></div>
  </div>
  <div class="panel" id="panel-melania">
    <div class="title" data-panel="panel-melania"><div class="dot"></div><div class="label">MelaniaCoin â€” MELANIA/USDT</div></div>
    <div class="content" id="chart-melania"></div>
  </div>
  <div class="panel" id="panel-etc">
    <div class="title" data-panel="panel-etc"><div class="dot"></div><div class="label">Ethereum Classic â€” ETC/USDT</div></div>
    <div class="content" id="chart-etc"></div>
  </div>
  <div class="panel" id="panel-near">
    <div class="title" data-panel="panel-near"><div class="dot"></div><div class="label">Near â€” NEAR/USDT</div></div>
    <div class="content" id="chart-near"></div>
  </div>
  <div class="panel" id="panel-aia">
    <div class="title" data-panel="panel-aia"><div class="dot"></div><div class="label">AIA â€” AIA/USDT</div></div>
    <div class="content" id="chart-aia"></div>
  </div>
  <div class="panel" id="panel-pump">
    <div class="title" data-panel="panel-pump"><div class="dot"></div><div class="label">Pump â€” PUMP/USDT</div></div>
    <div class="content" id="chart-pump"></div>
  </div>
  <div class="panel" id="panel-btc">
    <div class="title" data-panel="panel-btc"><div class="dot"></div><div class="label">Bitcoin â€” BTC/USDT</div></div>
    <div class="content" id="chart-btc"></div>
  </div>
</main>

<script>
// TradingView Mini-Widgets
function createChart(container,symbol){
  new TradingView.widget({
    container_id: container,
    autosize: true,
    symbol: symbol,
    interval: "1", // 1-Minute
    timezone: "Europe/Berlin",
    theme: document.body.classList.contains('light') ? "light" : "dark",
    style: "1",
    locale: "de",
    hide_top_toolbar: false,
    hide_legend: false,
    allow_symbol_change: false,
    studies: ["MACD@tv-basicstudies","RSI@tv-basicstudies"]
  });
}

const pairs=[
  {id:'trump',sym:'BITGET:TRUMPUSDT_PERP'},
  {id:'melania',sym:'BITGET:MELANIAUSDT_PERP'},
  {id:'etc',sym:'BITGET:ETCUSDT_PERP'},
  {id:'near',sym:'BITGET:NEARUSDT_PERP'},
  {id:'aia',sym:'BITGET:AIAUSDT_PERP'},
  {id:'pump',sym:'BITGET:PUMPUSDT_PERP'},
  {id:'btc',sym:'BITGET:BTCUSDT_PERP'}
];
pairs.forEach(p=>createChart('chart-'+p.id,p.sym));

// Floating-Fenster
const panelEls=[...document.querySelectorAll('.panel')];
const titleEls=[...document.querySelectorAll('.title')];

function updateDimmed(){
  const anyFloating=document.querySelector('.panel.floating');
  panelEls.forEach(p=>{
    if(!anyFloating)p.classList.remove('dimmed');
    else p.classList.toggle('dimmed',!p.classList.contains('floating'));
  });
  titleEls.forEach(t=>{
    const id=t.dataset.panel;
    const panel=document.getElementById(id);
    if(panel.classList.contains('floating'))t.classList.add('active');else t.classList.remove('active');
  });
}
titleEls.forEach(t=>{
  t.addEventListener('click',()=>{
    const id=t.dataset.panel;
    const panel=document.getElementById(id);
    const floatingNow=panel.classList.contains('floating');
    panelEls.forEach(p=>{p.classList.remove('floating');p.style='';});
    if(!floatingNow){
      panel.classList.add('floating');
      const w=Math.min(window.innerWidth*0.9,1200);
      const h=Math.min(window.innerHeight*0.85,800);
      panel.style.width=w+'px';
      panel.style.height=h+'px';
      panel.style.left=(window.innerWidth-w)/2+'px';
      panel.style.top=(window.innerHeight-h)/2+'px';
      panel.style.position='fixed';
      panel.style.zIndex=9999;
    }
    updateDimmed();
  });
});
window.addEventListener('keydown',e=>{
  if(e.key==='Escape'){
    panelEls.forEach(p=>{p.classList.remove('floating');p.style='';});
    updateDimmed();
  }
});
window.addEventListener('resize',()=>{
  const f=document.querySelector('.panel.floating');
  if(f){
    const w=Math.min(window.innerWidth*0.9,1200);
    const h=Math.min(window.innerHeight*0.85,800);
    f.style.width=w+'px';
    f.style.height=h+'px';
    f.style.left=(window.innerWidth-w)/2+'px';
    f.style.top=(window.innerHeight-h)/2+'px';
  }
});
updateDimmed();

// Theme Switch
const btn=document.getElementById('themeToggle');
btn.addEventListener('click',()=>{
  document.body.classList.toggle('light');
  btn.textContent=document.body.classList.contains('light')?'ðŸŒž Hell':'ðŸŒ™ Dunkel';
  document.querySelectorAll('[id^="chart-"]').forEach(el=>el.innerHTML='');
  pairs.forEach(p=>createChart('chart-'+p.id,p.sym));
});
</script>
</body>
</html>
